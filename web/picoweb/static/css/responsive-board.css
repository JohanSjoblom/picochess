/* Board optimization for specific resolutions */

/* For resolutions 1024x600 and 1024x800 */
@media (min-width: 1000px) and (max-width: 1100px) {
    /* Ensure board container maintains square proportion */
    .svg-container {
        display: block;
        position: relative;
        width: 100%;
        padding-bottom: 100% !important;
        vertical-align: middle;
        overflow: hidden;
    }
    
    .svg-content {
        display: block;
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
        width: 100% !important;
        height: 100% !important;
    }
    
    /* Ensure chessground occupies all space */
    #board {
        width: 100% !important;
        height: 100% !important;
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
    }
    
    .cg-board-wrap {
        width: 100% !important;
        height: 100% !important;
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
    }
    
    /* Adjust piece size */
    .cg-board piece {
        width: 12.5% !important;
        height: 12.5% !important;
        background-size: contain !important;
    }
    
    /* Adjust board coordinates */
    .cg-board-wrap coords.ranks {
        font-size: 11px;
    }
    
    .cg-board-wrap coords.files {
        font-size: 11px;
    }
}
/***************************************************/
/* Specific optimization for 1024x600 and 1024x768 */
/***************************************************/
@media (min-width: 1000px) and (max-width: 1100px) and (max-height: 770px) {
    /* Reducir padding general */
    .container-fluid {
        max-width: 1010px !important;
        max-height: 575px !important;
        padding-left: 5px !important;
        padding-right: 5px !important;
    }
    
    .card-body {
        padding: 5px !important;
    }
    
    /* More compact board */
    #xboardsection {
        max-width: 1014px;
        max-height: 580px;
    }
    
    /* Adjusted evaluation bar */
    .evaluation-container-horizontal {
        max-width: 1014px;
        margin: 0 auto;
        height: 15px;
    }
    
    /* Reduce height of scrollable elements */
    .scroll_movelist {
        height: 160px !important;
        min-height: 160px !important;
        max-height: 160px !important;
        overflow-y: auto !important;
        overflow-x: hidden !important;
        margin-top: 3px !important;
        margin-bottom: 3px !important;
        scroll-behavior: smooth !important;
    }
    
    /* Reduce internal padding of move container */
    .scroll_movelist .card-body {
        padding: 2px 5px !important;
    }
    
    /* Remove margins from move content */
    .scroll_movelist #pgn {
        margin: 0 !important;
        padding: 0 !important;
    }
    
    .scroll_movelist #pgn h4,
    .scroll_movelist #pgn h5 {
        margin: 0 !important;
        padding: 0 !important;
        line-height: 1.2 !important;
        font-size: 20px !important;
        text-align: center !important;
    }
    
    .scroll_movelist .gameMoves {
        margin: 0 !important;
        padding: 0 !important;
        line-height: 1.4 !important;
        font-size: 20px !important;
    }
    
    .scroll_movelist .gameResult {
        margin: 0 !important;
        padding: 0 !important;
        display: inline !important;
    }
    
    .scroll_movelist .comment,
    .scroll_movelist .gameVariation {
        margin: 0 !important;
        padding: 0 !important;
    }
    
    /* Reduce margins of move row container */
    .container > .row:nth-child(3) {
        margin-top: 2px !important;
        margin-bottom: 2px !important;
        flex: 0 0 auto !important; /* Deactivate flex, use fixed height */
        min-height: auto !important;
    }
    
    .container > .row:nth-child(3) .card {
        margin-bottom: 2px !important;
        flex: none !important; /* Deactivate flex of card */
        height: auto !important;
        min-height: 170px !important; /* Ensure minimum height */
    }
    
    .scroll_movelist .text-warning {
        scroll-margin-top: 30px;
        scroll-margin-bottom: 30px;
    }
    
    .gameMoves {
        white-space: normal;
    }
    
    .scroll_obooklist,
    .scroll_engine {
        height: 250px;
        max-height: 250px;
    }
    
    #GameTable_wrapper {
        min-height: 250px;
        max-height: 250px;
    }
    
    /* Reduce font size */
    .gameMoves, .bookMoves {
        font-size: 2vw;
    }
    
    #DGTClockText {
        font-size: 3.5vh;
    }
    
    #DGTClockStatus {
        font-size: 2.5vh;
    }
    
    .card-header {
        font-size: 1.8vh !important;
        padding: 3px !important;
    }
    
    /* More compact buttons */
    .btn-group .btn {
        padding: 0.3rem 0.5rem !important;
    }
    
    #clockbuttons {
        padding-top: 5px;
        padding-bottom: 5px;
    }
    
    /* More compact tabs */
    .nav-pills .nav-link {
        padding: 6px 8px !important;
        font-size: 0.85rem !important;
    }
    
    #data {
        margin-top: 2px;
    }

    #data.card {
        height: 290px !important;
        min-height: 290px !important;
        max-height: 290px !important;
    }

    /* More compact Scan controls */
    .scan-controls {
        padding: 8px !important;
    }
    
    .scan-controls .row {
        margin-bottom: 8px !important;
    }
    
    .scan-controls .btn {
        padding: 0.4rem 0.6rem !important;
        font-size: 0.85rem !important;
    }
    
    .form-check-label {
        font-size: 0.8rem !important;
    }
        #boardControlButtons {
        display: flex !important;
        flex-direction: row !important;
        justify-content: space-between;
        align-items: center;
        gap: 5px;
        flex-wrap: nowrap;
    }

    #boardControlButtons button {
        font-size: 0.75rem !important;
        padding: 0.2rem 0.4rem !important;
        min-width: unset !important;
        width: auto !important;
        flex: 1 1 auto;
    }

    #btn-mute {
        width: auto !important;
        height: 40px !important;
        font-size: 18px !important;
        padding: 0 !important;
    }

    #btn-mute span {
        font-size: 16px !important;
    }
}
/*****************************************/
/* Specific optimization for 1280x800    */
/*****************************************/
@media (min-width: 1200px) and (max-width: 1300px) and (min-height: 700px) and (max-height: 850px) {
    /* Larger board taking advantage of height */
    #xboardsection {
        max-width: 1270px;
        max-height: 790px;
    }
    
    /* Evaluation bar adjusted to board width */
    .evaluation-container-horizontal {
        max-width: 1270px;
        margin: 0 auto;
    }
    
    /* Reduce height of scrollable elements */
    .scroll_movelist {
        height: 180px !important;
        min-height: 180px !important;
        max-height: 180px !important;
        overflow-y: auto !important;
        overflow-x: hidden !important;
        margin-top: 12px !important;
        margin-bottom: 12px !important;
        scroll-behavior: smooth !important;
    }
    
    .scroll_movelist .text-warning {
        scroll-margin-top: 75px;
        scroll-margin-bottom: 75px;
    }
    
    .gameMoves {
        white-space: normal;
    }
    
    .scroll_obooklist,
    .scroll_engine {
        height: 320px;
        max-height: 320px;
    }
    
    #GameTable_wrapper {
        min-height: 320px;
        max-height: 320px;
    }
    
    /* Optimized fonts */
    .gameMoves, .bookMoves {
        font-size: 1.6vw;
    }
    
    #data.card {
        height: 41.5vh;
        min-height: 30vh;
        max-height: 50vh;
    }
    
    /* Prevent vertical scroll */
    body {
        overflow-y: hidden !important;
        max-height: 800px;
    }
    
    .scroll-portrait {
        height: 800px;
        max-height: 800px;
        overflow-y: hidden;
    }
    
    /* Column layout */
    .container-fluid > .row > .col:first-child {
        flex: 0 0 48% !important;
        max-width: 48% !important;
    }
    
    .container-fluid > .row > .col:last-child {
        flex: 0 0 52% !important;
        max-width: 52% !important;
    }
}

/* Prevent piece overflow */
.cg-board piece.dragging {
    cursor: move;
    z-index: 999 !important;
}

/* Ensure pieces are displayed correctly */
piece {
    pointer-events: auto !important;
}

/* Improve visualization of possible moves */
.cg-board square.move-dest {
    background: radial-gradient(rgba(20, 85, 30, 0.6) 22%, #208530 0, rgba(0, 0, 0, 0.4) 0, rgba(0, 0, 0, 0) 0) !important;
}

/* Improve visualization of last move */
.cg-board square.last-move {
    background-color: rgba(155, 199, 0, 0.5) !important;
}

/* Ensure promotion is displayed correctly */
.promotion-overlay {
    width: 100% !important;
    height: 100% !important;
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    z-index: 1000 !important;
}

.promotion-overlay square {
    width: 12.5% !important;
    height: 12.5% !important;
}

.promotion-overlay piece {
    width: 80% !important;
    height: 80% !important;
    top: 10% !important;
    left: 10% !important;
}

/* Common styles for 1024x600 and 1280x800 */
@media ((min-width: 1000px) and (max-width: 1100px) and (max-height: 650px)), ((min-width: 1200px) and (max-width: 1300px) and (min-height: 700px) and (max-height: 850px)) {
    /* Aesthetic top space */
    .container-fluid > .row {
        margin-top: 10px;
    }
    
    /* Ensure columns are distributed correctly */
    .container-fluid > .row > .col:first-child {
        flex: 0 0 48% !important;
        max-width: 48% !important;
    }
    
    .container-fluid > .row > .col:last-child {
        flex: 0 0 52% !important;
        max-width: 52% !important;
    }
    
    /* Adjust card height */
    .card {
        margin-bottom: 3px;
    }
    
    /* Reduce space between buttons */
    #boardButtons {
        margin-top: 5px;
        margin-bottom: 5px;
    }
    
    /* Optimize board space */
    #board_panel .card-body {
        padding: 5px !important;
    }
}

/* Ensure active move appears centered */
.scroll_movelist .text-warning {
    scroll-margin-top: 90px;
    scroll-margin-bottom: 90px;
}

#data .card-body {
    height: calc(100% - 50px) !important;
    overflow: hidden !important;
}

#data .tab-content {
    height: 100% !important;
}

#data .tab-pane {
    height: 100% !important;
}

/* Reduce boardcontrol space - ALL RESOLUTIONS */
#boardcontrol {
    padding-left: 0px !important;
    padding-right: 0px !important;
}

#boardcontrol > .row:last-child {

    min-height: 30px !important;
}
